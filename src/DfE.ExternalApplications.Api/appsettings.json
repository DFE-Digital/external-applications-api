{
  "Tenants": {
    "Transfers": {
      "Id": "11111111-1111-4111-8111-111111111111",
      "Name": "Transfers",
      "ApplicationReference": {
        "Prefix": "TRF"
      },
      "AllowedHosts": "*",
      "ApplicationInsights": {
        "ConnectionString": "Copy connection string from Application Insights Resource Overview"
      },
      "Authorization": {
        "Policies": [
          {
            "Name": "SvcCanRead",
            "Operator": "OR",
            "Roles": [ "API.Read" ]
          },
          {
            "Name": "SvcCanReadWrite",
            "Operator": "AND",
            "Roles": [ "API.Read", "API.Write" ]
          },
          {
            "Name": "SvcCanReadWriteDelete",
            "Operator": "AND",
            "Roles": [ "API.Read", "API.Write", "API.Delete" ]
          },
          {
            "Name": "IsAdmin",
            "Operator": "AND",
            "Roles": [ "Admin" ]
          }
        ],
        "TokenSettings": {
          "SecretKey": "replace-this-with-a-secure-32-char-key!",
          "Issuer": "21f3ed37-8443-4755-9ed2-c68ca86b4398",
          "Audience": "20dafd6d-79e5-4caf-8b72-d070dcc9716f",
          "TokenLifetimeMinutes": 60
        }
      },
      "InternalServiceAuth": {
        "Services": [
          {
            "Email": "eat-transfer-service@service.com",
            "ApiKey": "replace-with-secure-api-key-here!"
          }
        ],
        "SecretKey": "replace-this-internal-auth-32-char-key!",
        "Issuer": "external-applications-web",
        "Audience": "external-applications-api",
        "TokenLifetimeMinutes": 10
      },
      "CacheSettings": {
        "Memory": {
          "DefaultDurationInSeconds": 60,
          "Durations": {
            "GetApplicationsForUserQueryHandler": 1,
            "GetApplicationsForUserByExternalProviderIdQueryHandler": 1,
            "UserPermissionClaimProvider": 600
          }
        },
        "Redis": {
          "KeyPrefix": "DfE:Cache:",
          "DefaultDurationInSeconds": 60,
          "Durations": {
            "GetApplicationsForUserQueryHandler": 1,
            "GetApplicationsForUserByExternalProviderIdQueryHandler": 1,
            "UserPermissionClaimProvider": 600
          }
        }
      },
      "FeatureManagement": {
      },
      "Logging": {
        "LogLevel": {
          "Default": "Warning",
          "Microsoft": "Warning",
          "Microsoft.Hosting.Lifetime": "Warning",
          "Microsoft.AspNetCore": "Warning"
        },
        "Console": {
          "FormatterName": "simple",
          "FormatterOptions": {
            "IncludeScopes": true
          }
        }
      },
      "Serilog": {
        "Using": [
          "Serilog.Sinks.ApplicationInsights"
        ],
        "MinimumLevel": {
          "Default": "Warning",
          "Override": {
            "Microsoft": "Warning",
            "System": "Warning"
          }
        },
        "Enrich": [ "FromLogContext" ],
        "Properties": {
          "Application": "DfE.ExternalApplications.Api"
        }
      },
      "FileStorage": {
        "Provider": "Hybrid",
        "Local": {
          "BaseDirectory": "/uploads",
          "CreateDirectoryIfNotExists": true,
          "AllowOverwrite": true,
          "MaxFileSizeBytes": 10000000,
          "AllowedExtensions": [ "jpg", "png", "pdf", "docx", "xlsx" ],
          "AllowedFileNamePattern": "^[\\sa-zA-Z0-9_-]+$",
          "AllowedFileNamePatternFriendlyList": "a-z A-Z 0-9 _ - space"
        },
        "Azure": {
          "ConnectionString": "Secret",
          "ShareName": "s184d01-extapi-storage"
        }
      },
      "NotificationService": {
        "StorageProvider": "Redis",
        "MaxNotificationsPerUser": 50,
        "AutoCleanupIntervalMinutes": 60,
        "MaxNotificationAgeHours": 24,
        "RedisConnectionString": "localhost:1111",
        "RedisKeyPrefix": "transfers-notifications:",
        "TypeDefaults": {
          "Success": {
            "AutoDismiss": true,
            "AutoDismissSeconds": 5
          },
          "Error": {
            "AutoDismiss": false,
            "AutoDismissSeconds": 10
          },
          "Info": {
            "AutoDismiss": true,
            "AutoDismissSeconds": 5
          },
          "Warning": {
            "AutoDismiss": true,
            "AutoDismissSeconds": 7
          }
        }
      },
      "Email": {
        "Provider": "GovUkNotify",
        "ServiceSupportEmailAddress": "",
        "GovUkNotify": {
          "ApiKey": "secret",
          "BaseUrl": "https://api.notifications.service.gov.uk",
          "TimeoutSeconds": 30,
          "UseProxy": false,
          "MaxAttachmentSize": 2097152,
          "AllowedAttachmentTypes": [ ".pdf", ".csv", ".txt", ".doc", ".docx", ".xls", ".xlsx", ".rtf", ".odt", ".ods", ".odp" ]
        }
      },
      "ApplicationTemplates": {
        "HostMappings": {
          "transfer": "9A4E9C58-9135-468C-B154-7B966F7ACFB7",
          "sigchange": "B2F8E7D4-2C46-4A91-8E73-9D5A1F4B6C89"
        }
      },
      "EmailTemplates": {
        "Transfer": {
          "ApplicationSubmitted": "a4188604-0053-4d77-9ad2-720f6fbbdf0a",
          "ContributorInvited": "3a0e2130-ceea-48c9-8e3d-906431acc86f",
          "BugReportInternal": "8b51948c-d7d1-4a26-8ea6-f4a78a27ce5a",
          "BugReportUser": "6b0c7eb1-ec0b-4e6e-91e0-92c602ede7d8",
          "SupportRequestInternal": "d6577f06-cedd-4bb1-8274-a5399c5e7056",
          "SupportRequestUser": "2abe75fc-b772-4a02-89c2-0069f56a49b7",
          "FeedbackOrSuggestionInternal": "73f684f4-875c-4d4b-b88a-b73f5f1e7c5b"
        },
        "SigChange": {
          "ApplicationSubmitted": "c6300826-2275-6f99-bf40-9d188h9ceh2c",
          "ContributorInvited": "3a0e2130-ceea-48c9-8e3d-906431acc86f",
          "StatusChanged": "e8522048-4497-8h11-dh62-bf300j1egk4e"
        }
      },
      "ConnectionStrings": {
        "DefaultConnection": "Server=localhost,1433;Database=ExternalApplications;User Id=SA;Password=YourPassword123!;TrustServerCertificate=True;",
        "AzureSignalR": "",
        "Redis": "localhost:6379",
        "ServiceBus": "Endpoint=sb://dummy.servicebus.windows.net/;SharedAccessKeyName=RootManageSharedAccessKey;SharedAccessKey=dummy"
      },
      "FrontendSettings": {
        "BaseUrl": "https://localhost:5001",
        "PreviewContentSelector": "govuk-grid-column-full"
      },
      "DfESignIn": {
        "Authority": "https://test-oidc.signin.education.gov.uk",
        "ClientId": "RSDExternalApps",
        "Issuer": "https://test-oidc.signin.education.gov.uk:443",
        "DiscoveryEndpoint": "https://test-oidc.signin.education.gov.uk/.well-known/openid-configuration"
      },
      "AzureAd": {
        "Instance": "https://login.microsoftonline.com/",
        "TenantId": "common",
        "ClientId": "default-client",
        "Audience": "api://default-client"
      }
    },
    "Lsrp": {
      "Id": "22222222-2222-4222-8222-222222222222",
      "Name": "LSRP",
      "ApplicationReference": {
        "Prefix": "LSP"
      },
      "AllowedHosts": "*",
      "ApplicationInsights": {
        "ConnectionString": "Copy connection string from Application Insights Resource Overview"
      },
      "Authorization": {
        "Policies": [
          {
            "Name": "SvcCanRead",
            "Operator": "OR",
            "Roles": [ "API.Read" ]
          },
          {
            "Name": "SvcCanReadWrite",
            "Operator": "AND",
            "Roles": [ "API.Read", "API.Write" ]
          },
          {
            "Name": "SvcCanReadWriteDelete",
            "Operator": "AND",
            "Roles": [ "API.Read", "API.Write", "API.Delete" ]
          },
          {
            "Name": "IsAdmin",
            "Operator": "AND",
            "Roles": [ "Admin" ]
          }
        ],
        "TokenSettings": {
          "SecretKey": "replace-this-with-a-secure-32-char-key!",
          "Issuer": "c06ca515-122d-45b7-b40b-513ace7009bd",
          "Audience": "25f087cf-637d-4894-bc4f-37ffaeda447b",
          "TokenLifetimeMinutes": 60
        }
      },
      "InternalServiceAuth": {
        "Services": [
          {
            "Email": "eat-lsrp-service@service.com",
            "ApiKey": "replace-with-secure-api-key-here!"
          }
        ],
        "SecretKey": "replace-this-internal-auth-32-char-key!",
        "Issuer": "external-applications-lsrp",
        "Audience": "external-applications-api",
        "TokenLifetimeMinutes": 10
      },
      "CacheSettings": {
        "Memory": {
          "DefaultDurationInSeconds": 60,
          "Durations": {
            "GetApplicationsForUserQueryHandler": 1,
            "GetApplicationsForUserByExternalProviderIdQueryHandler": 1,
            "UserPermissionClaimProvider": 600
          }
        },
        "Redis": {
          "KeyPrefix": "DfE:Cache:",
          "DefaultDurationInSeconds": 60,
          "Durations": {
            "GetApplicationsForUserQueryHandler": 1,
            "GetApplicationsForUserByExternalProviderIdQueryHandler": 1,
            "UserPermissionClaimProvider": 600
          }
        }
      },
      "FeatureManagement": {
      },
      "Logging": {
        "LogLevel": {
          "Default": "Warning",
          "Microsoft": "Warning",
          "Microsoft.Hosting.Lifetime": "Warning",
          "Microsoft.AspNetCore": "Warning"
        },
        "Console": {
          "FormatterName": "simple",
          "FormatterOptions": {
            "IncludeScopes": true
          }
        }
      },
      "Serilog": {
        "Using": [
          "Serilog.Sinks.ApplicationInsights"
        ],
        "MinimumLevel": {
          "Default": "Warning",
          "Override": {
            "Microsoft": "Warning",
            "System": "Warning"
          }
        },
        "Enrich": [ "FromLogContext" ],
        "Properties": {
          "Application": "DfE.ExternalApplications.Api"
        }
      },
      "FileStorage": {
        "Provider": "Hybrid",
        "Local": {
          "BaseDirectory": "/uploads",
          "CreateDirectoryIfNotExists": true,
          "AllowOverwrite": true,
          "MaxFileSizeBytes": 10000000,
          "AllowedExtensions": [ "jpg", "png", "pdf", "docx", "xlsx" ],
          "AllowedFileNamePattern": "^[\\sa-zA-Z0-9_-]+$",
          "AllowedFileNamePatternFriendlyList": "a-z A-Z 0-9 _ - space"
        },
        "Azure": {
          "ConnectionString": "Secret",
          "ShareName": "s184d01-extapi-storage"
        }
      },
      "NotificationService": {
        "StorageProvider": "Redis",
        "MaxNotificationsPerUser": 50,
        "AutoCleanupIntervalMinutes": 60,
        "MaxNotificationAgeHours": 24,
        "RedisConnectionString": "localhost:1111",
        "RedisKeyPrefix": "lsrp-notifications:",
        "TypeDefaults": {
          "Success": {
            "AutoDismiss": true,
            "AutoDismissSeconds": 5
          },
          "Error": {
            "AutoDismiss": false,
            "AutoDismissSeconds": 10
          },
          "Info": {
            "AutoDismiss": true,
            "AutoDismissSeconds": 5
          },
          "Warning": {
            "AutoDismiss": true,
            "AutoDismissSeconds": 7
          }
        }
      },
      "Email": {
        "Provider": "GovUkNotify",
        "ServiceSupportEmailAddress": "",
        "GovUkNotify": {
          "ApiKey": "secret",
          "BaseUrl": "https://api.notifications.service.gov.uk",
          "TimeoutSeconds": 30,
          "UseProxy": false,
          "MaxAttachmentSize": 2097152,
          "AllowedAttachmentTypes": [ ".pdf", ".csv", ".txt", ".doc", ".docx", ".xls", ".xlsx", ".rtf", ".odt", ".ods", ".odp" ]
        }
      },
      "ApplicationTemplates": {
        "HostMappings": {
          "transfer": "9A4E9C58-9135-468C-B154-7B966F7ACFB7",
          "lsrp": "B2F8E7D4-2C46-4A91-8E73-9D5A1F4B6C89"
        }
      },
      "EmailTemplates": {
        "Transfer": {
          "ApplicationSubmitted": "a4188604-0053-4d77-9ad2-720f6fbbdf0a",
          "ContributorInvited": "3a0e2130-ceea-48c9-8e3d-906431acc86f",
          "BugReportInternal": "8b51948c-d7d1-4a26-8ea6-f4a78a27ce5a",
          "BugReportUser": "6b0c7eb1-ec0b-4e6e-91e0-92c602ede7d8",
          "SupportRequestInternal": "d6577f06-cedd-4bb1-8274-a5399c5e7056",
          "SupportRequestUser": "2abe75fc-b772-4a02-89c2-0069f56a49b7",
          "FeedbackOrSuggestionInternal": "73f684f4-875c-4d4b-b88a-b73f5f1e7c5b"
        },
        "Lsrp": {
          "ApplicationSubmitted": "c6300826-2275-6f99-bf40-9d188h9ceh2c",
          "ContributorInvited": "3a0e2130-ceea-48c9-8e3d-906431acc86f",
          "StatusChanged": "e8522048-4497-8h11-dh62-bf300j1egk4e"
        }
      },
      "ConnectionStrings": {
        "DefaultConnection": "Server=localhost,1433;Database=ExternalApplications;User Id=SA;Password=YourPassword123!;TrustServerCertificate=True;",
        "AzureSignalR": "",
        "Redis": "localhost:6379",
        "ServiceBus": "Endpoint=sb://dummy.servicebus.windows.net/;SharedAccessKeyName=RootManageSharedAccessKey;SharedAccessKey=dummy"
      },
      "FrontendSettings": {
        "BaseUrl": "https://localhost:5001",
        "PreviewContentSelector": "govuk-grid-column-full"
      },
      "DfESignIn": {
        "Authority": "https://test-oidc.signin.education.gov.uk",
        "ClientId": "localSENDReformPlans",
        "Issuer": "https://test-oidc.signin.education.gov.uk:443",
        "DiscoveryEndpoint": "https://test-oidc.signin.education.gov.uk/.well-known/openid-configuration"
      },
      "AzureAd": {
        "Instance": "https://login.microsoftonline.com/",
        "TenantId": "common",
        "ClientId": "default-client",
        "Audience": "api://default-client"
      }
    }
  }
}